"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6051],{6051:(Z,u,a)=>{a.r(u),a.d(u,{HomePageModule:()=>T});var m=a(6814),h=a(95),r=a(1929),d=a(289),e=a(9212),g=a(1993),f=a(2183),p=a(74);function v(t,s){if(1&t&&e._uU(0),2&t){const n=e.oxw(2);e.hij(" Memorice las cartas. Restan: ",n.timeCounter()," seg. ")}}function C(t,s){if(1&t&&e._uU(0),2&t){const n=e.oxw(2);e.hij(" \xbfDonde esta el numero ",n.numCard,"? ")}}function _(t,s){if(1&t&&e.YNc(0,v,1,1)(1,C,1,1),2&t){const n=e.oxw();e.um2(0,n.showCards?0:1)}}function P(t,s){1&t&&e._uU(0," Click en jugar para iniciar un nuevo juego ")}function x(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-col",14)(1,"div",15),e.NdJ("click",function(){const c=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.activate(c))}),e._UZ(2,"div",16),e.TgZ(3,"div",17),e._uU(4),e.qZA()()()}if(2&t){const n=s.$implicit;e.xp6(1),e.Q6J("ngClass",n.active?"active":""),e.xp6(2),e.Q6J("ngClass",n.success?"success":"")("ngClass",n.fail?"fail":""),e.xp6(1),e.hij(" ",n.value," ")}}function y(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-button",12),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.iniGame())}),e._uU(1," Jugar "),e._UZ(2,"ion-icon",18),e.qZA()}}const M=[{path:"",component:(()=>{var t;class s{constructor(){this.utils=(0,e.f3M)(f.F),this.cards=[],this.totalCards=9,this.numCard=0,this.canTriggerActivate=!1,this.showCards=!1,this.selectMenu=[{value:"bajo",label:"Bajo"},{value:"medio",label:"Medio"},{value:"alto",label:"Alto"}],this.timeDifficulty=5e3,this.timeCounter=(0,e.tdS)(5),this.numArray=[...Array(this.totalCards).keys()].map(i=>i+1),this.utils.getUser.pipe((0,g.sL)()).subscribe(i=>{switch(this.user=i,this.user.dificultad){case"bajo":this.timeDifficulty=1e4;break;case"medio":this.timeDifficulty=5e3;break;case"alto":this.timeDifficulty=2e3}})}ngOnInit(){}signOut(){this.utils.removeFromLocalStorege("user"),this.utils.routerLink("/auth")}activate(i){if(this.canTriggerActivate)if(this.canTriggerActivate=!1,i.active=!0,i.value===this.numCard){switch(this.user.dificultad){case"bajo":this.user.puntos+=10;break;case"medio":this.user.puntos+=20;break;case"alto":this.user.puntos+=30}this.user.max=this.user.max>this.user.puntos?this.user.max:this.user.puntos,this.utils.setUser=this.user,i.success=!0,setTimeout(()=>{this.iniGame()},1e3)}else this.user.puntos=0,this.utils.setUser=this.user,this.utils.vibrate({duration:300}),i.fail=!0,setTimeout(()=>{this.cards=[]},1500)}iniGame(){this.numCard=this.generarNumeroAleatorio([...this.numArray])+1;const i=this.generarArregloAleatorio();this.iniCardsArray(i),this.showCards=!0,this.iniContador(this.timeDifficulty),setTimeout(()=>{this.showCards=!1,this.canTriggerActivate=!0,this.flipCard(!1)},this.timeDifficulty)}iniCardsArray(i){this.cards=[];for(let o=0;o<i.length;o++)this.cards.push({value:i[o],active:!0,success:!1,fail:!1})}generarNumeroAleatorio(i){return Math.floor(Math.random()*i.length)}generarArregloAleatorio(){const i=[...this.numArray],o=[];for(;i.length>0;){const c=this.generarNumeroAleatorio(i),l=i.splice(c,1)[0];o.push(l)}return o}flipCard(i){this.cards.map(o=>o.active=i)}iniContador(i){let o=i/1e3;this.timeCounter.set(o);const c=setInterval(()=>{o--,this.timeCounter.set(o),o>=0||clearInterval(c)},1e3)}}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:28,vars:7,consts:[[3,"title","selectMenu"],[3,"fullscreen"],[1,"ion-justify-content-end"],["size","12",1,"ion-text-end"],["color","primary"],["name","locate-outline","color","primary"],["name","medal-outline","color","primary"],[1,"ion-justify-content-center"],["size","12",1,"ion-text-center"],[1,""],[1,"ion-text-center"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","log-out-outline"],["size","4",1,"ion-text-center"],[1,"card",3,"ngClass","click"],[1,"back"],[1,"face",3,"ngClass"],["slot","start","name","play"],["size","4","class","ion-text-center"]],template:function(i,o){1&i&&(e._UZ(0,"shared-header",0),e.TgZ(1,"ion-content",1)(2,"ion-grid")(3,"ion-row",2)(4,"ion-col",3)(5,"ion-chip",4),e._UZ(6,"ion-icon",5),e.TgZ(7,"ion-label"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-chip",4),e._UZ(10,"ion-icon",6),e.TgZ(11,"ion-label"),e._uU(12),e.qZA()()()()(),e.TgZ(13,"ion-grid")(14,"ion-row",7)(15,"ion-col",8),e.YNc(16,_,2,1)(17,P,1,0),e.qZA()()(),e.TgZ(18,"ion-grid",9)(19,"ion-row",7),e.SjG(20,x,5,4,"ion-col",19,e.ikw),e.qZA(),e.TgZ(22,"ion-row")(23,"ion-col",10),e.YNc(24,y,3,0,"ion-button"),e.qZA()()(),e.TgZ(25,"ion-fab",11)(26,"ion-fab-button",12),e.NdJ("click",function(){return o.signOut()}),e._UZ(27,"ion-icon",13),e.qZA()()()),2&i&&(e.Q6J("title",o.user.name)("selectMenu",o.selectMenu),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(7),e.hij("Puntos: ",o.user.puntos,""),e.xp6(4),e.hij("M\xe1ximo ",o.user.max,""),e.xp6(4),e.um2(16,o.cards.length?16:17),e.xp6(4),e.wJu(o.cards),e.xp6(4),e.um2(24,o.cards.length?-1:24))},dependencies:[m.mk,r.YG,r.hM,r.wI,r.W2,r.IJ,r.W4,r.jY,r.gu,r.Q$,r.Nd,p.G],styles:[".card[_ngcontent-%COMP%]{height:140px;margin:.5rem;position:relative;transition:transform .5s;transform-style:preserve-3d}.card.active[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:1rem;display:flex;align-items:center;justify-content:center;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:none}.card[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]{background:var(--ion-color-primary);transform:rotateY(180deg);color:#fff;font-size:6rem}.card[_ngcontent-%COMP%]   .face.fail[_ngcontent-%COMP%]{background:var(--ion-color-danger)}.card[_ngcontent-%COMP%]   .face.success[_ngcontent-%COMP%]{background:var(--ion-color-success)}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{border:2px solid var(--ion-color-primary)}"]}),s})()}];let b=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),s})();var A=a(6208);let T=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,h.u5,r.Pc,b,A.m]}),s})()}}]);